{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./index.js"],"names":["document","addEventListener","canvasEl","getElementById","ctx","getContext","W","window","innerWidth","H","innerHeight","width","height","charSize","color","characters","randomChar","Math","floor","random","length","randomVel","factors","i","push","chars","counts","fillStyle","textBaseline","font","makeChar","posX","posY","vel","max","fill","value","pos","draw","clearRect","char","fillText","animate","requestAnimationFrame"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","document.addEventListener(\"DOMContentLoaded\", () => {\n  const canvasEl = document.getElementById(\"test-canvas\");\n  const ctx = canvasEl.getContext(\"2d\");\n  let W = window.innerWidth;\n  let H = window.innerHeight;\n  canvasEl.width = W;\n  canvasEl.height = H;\n\n  const charSize = 20;\n  const color = [0, 255, 0];\n\n  const characters = \"1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&*()\";\n\n  function randomChar() {\n    return characters[Math.floor(Math.random() * characters.length)];\n  }\n\n  function randomVel() {\n    let factors = [];\n\n    for (let i = 1; i <= 10; i++) {\n      if (charSize % i === 0) {\n        factors.push(i);\n      }\n    }\n    return factors[Math.floor(Math.random() * factors.length)] * 0.25;\n  }\n\n  let chars = [];\n  const counts = {};\n  // let char = randomChar();\n  // let pos = [0, 0];\n  // let velocity = 2;\n  ctx.fillStyle = \"lime\";\n  ctx.textBaseline = \"top\";\n  ctx.font = `${charSize}px Orbitron`;\n\n  for (let i = 0; i < W; i += charSize) {\n    makeChar(i, 0, randomVel(), Math.random() * (H - 200) + 400, color);\n    counts[i] = 1;\n  }\n\n  function makeChar(posX, posY, vel, max, fill) {\n    chars.push({\n      value: randomChar(),\n      pos: [posX, posY],\n      vel,\n      max,\n      fill\n    });\n  }\n\n  function draw() {\n    ctx.clearRect(0, 0, W, H);\n    let char;\n    for (let i = 0; i < chars.length; i++) {\n      char = chars[i];\n      if (char === null) {\n        continue;\n      }\n      // if (char.pos[1] > char.max) {\n      //   chars = chars.slice(0, i).concat(chars.slice(i + 1, chars.length));\n      //   makeChar(char.pos[0], 0, char.vel, char.max);\n      // }\n      if (char.pos[1] + 5 * char.vel > char.max) {\n        ctx.fillStyle = \"white\";\n      } else {\n        ctx.fillStyle = \"lime\";\n      }\n      ctx.fillText(char.value, ...char.pos);\n      char.pos[1] += char.vel;\n\n      if (char.pos[1] === 20 && counts[char.pos[0]]++ < 20) {\n        makeChar(char.pos[0], 0, char.vel, char.max);\n      }\n\n      if (char.pos[1] > char.max && char.value !== \"\") {\n        makeChar(char.pos[0], 0, char.vel, char.max);\n        chars[i] = null;\n      }\n      // if (char.pos[1] === 20) {\n      //   if (counts[char.pos[0]] < 10) {\n      //     counts[char.pos[0]]++;\n      //     makeChar(char.pos[0], 0, char.vel, char.max);\n      //   }\n      // }\n\n      // if (char.pos[1] == 20) {\n      //   if (counts[char.pos[0]]++ % 40 < 20) {\n      //     makeChar(char.pos[0], 0, char.vel, char.max);\n      //   } else {\n      //     makeChar(char.pos[0], -100, char.vel, char.max);\n      //   }\n      // }\n    }\n\n    // for (var key in counts) {\n    //   if (counts[key] >= 10) {\n    //     counts[key]++;\n    //     if (counts[key] >= 21) {\n    //       makeChar(key, 0, randomVel(), Math.random() * H);\n    //       counts[key] = 0;\n    //     }\n    //   }\n    // }\n  }\n\n  function animate() {\n    draw();\n    requestAnimationFrame(animate);\n  }\n\n  requestAnimationFrame(animate);\n});\n"],"sourceRoot":""}